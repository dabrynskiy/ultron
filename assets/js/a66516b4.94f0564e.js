"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[806],{3612:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var s=n(4848),o=n(8453);const r={sidebar_position:7},l="Result handler",a={id:"common/resulthandler",title:"Result handler",description:"Ultron allows you to process the result of any operation in your own custom way. It provides full info to do that.",source:"@site/docs/common/resulthandler.md",sourceDirName:"common",slug:"/common/resulthandler",permalink:"/ultron/docs/common/resulthandler",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Custom assertions",permalink:"/ultron/docs/common/customassertion"}},i={},c=[{value:"How to use?",id:"how-to-use",level:2}];function d(e){const t={code:"code",em:"em",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"result-handler",children:"Result handler"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Ultron"})," allows you to process the result of any operation in your own custom way. It provides full info to do that."]}),"\n",(0,s.jsx)(t.p,{children:"Let's loot at the example"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-kotlin",children:'object SomePage : Page<SomePage>{\n    private val espressoElement = withId(R.id.espressoId)\n    private val espressoWebViewElement = xpath("some_xpath")\n    private val uiautomatorElement = byResId(R.id.uiatomatorId)\n    private val composeElement = hasTestTag("some_tag")\n}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Now, we want to catch the result of operation and do smth reasonable. There is a method that opens the door - ",(0,s.jsx)(t.code,{children:"withResultHandler"})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-kotlin",children:"espressoElement.withResultHandler { operationResult ->\n    // smth that make sense\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"What it gives to us?"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:"https://user-images.githubusercontent.com/12834123/113351564-bc872f00-9343-11eb-925a-432dbc191b32.png",alt:"resultHandler"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:(0,s.jsxs)(t.em,{children:["A little explanation in case you would like to be more familiar with ",(0,s.jsx)(t.strong,{children:"Ultron"})," framework"]})})}),"\n",(0,s.jsxs)(t.p,{children:["There is an entity which we call ",(0,s.jsx)(t.code,{children:"ResultHandler"}),". By default all Ultron operations has the same ",(0,s.jsx)(t.code,{children:"ResultHandler"}),".\nIt catches the result of operation and asks ",(0,s.jsx)(t.code,{children:"OperationResultAnalyzer"})," to analyze the result.\nIn case ",(0,s.jsx)(t.code,{children:"operationResult.success"})," is ",(0,s.jsx)(t.code,{children:"false"})," the result analyzer throws catched exception."]}),"\n",(0,s.jsx)(t.h2,{id:"how-to-use",children:"How to use?"}),"\n",(0,s.jsx)(t.p,{children:"There are 2 ways of using custom ResultHandler:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Specify it for page property and it will be applied for all operations with this element"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-kotlin",children:"object SomePage : Page<SomePage>() {\n    private val eventStatus = withId(R.id.last_event_status).withResultHandler { operationResult ->\n        // smth that make sense\n    }\n}\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Specify it inside special step there the element operation should be processed in different way.\nThis ResultHandler will be applied only once for single operation."}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-kotlin",children:"object SomePage : Page<SomePage>() {\n    fun someSpecificUserStep(expectedEventText: String){\n         eventStatus.withResultHandler { operationResult ->\n             // smth that make sense\n         }.hasText(expectedEventText)\n    }\n}\n"})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>a});var s=n(6540);const o={},r=s.createContext(o);function l(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);